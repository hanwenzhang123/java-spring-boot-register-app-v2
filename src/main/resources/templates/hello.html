<!doctype html>
<html ng-app="myApp" lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>React on Spring - A Course Registration App</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/main.css}">
</head>
<body ng-controller="RosterAngularController">
<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="http://localhost:8888/" target="_blank">Course Registration App</a>
</nav>
<main role="main" class="container">
    <div class="starter-template">
        <h1>Welcome to the Course Registration App!</h1>
    </div>

    <p></p>

    <h3>Computer Science Department (Server Side Rendering):</h3>

    <div th:each="department : ${departments}" class="mt-2">
        <a th:href="@{/department/{id}(id=${department.id})}" target="_blank">
            Department <span th:text="${department.name}"></span>
        </a> |
        <button type="button" class="btn btn-primary btn-sm" th:attr="ng-click=|getCoursesOfDepartment('${department.id}', '${department.name}')|">Click for Course</button> |
        <button type="button" class="btn btn-primary btn-sm" th:attr="ng-click=|getStudentsOfDepartment('${department.id}', '${department.name}')|">Click for Students</button> |
    </div>

    <p></p>
    <p></p>

    <h3>Computer Science Department (Client Side Rendering)</h3>

    <div ng-show="departmentNameForCourses != null">
        <b>Department : {{departmentNameForCourses}} Courses</b>
        <table class="table">
            <thead>
            <tr><th>Id</th><th>Name</th><th>Advisor</th></tr>
            </thead>
            <tbody>
            <tr ng-repeat="team in departmentCourses">
                <td>
                    <a href='/team/{{team.id}}' target=_blank>
                        {{team.id}}</a>
                </td>
                <td>{{team.name}}</td>
                <td>{{team.advisor}}</td>
            </tr>
            </tbody>
        </table>

    </div>

    <div ng-show="departmentNameForStudents != null">

        <b>Department : {{departmentNameForStudents}} Students</b>
        <table class="table">
            <thead>
            <tr><th>Id</th><th>Name</th><th>Thesis</th><th>Gpa</th></tr>
            </thead>
            <tbody>
            <tr ng-repeat="student in departmentStudents">
                <td>
                    <a href='/student/{{student.id}}' target=_blank>
                        {{student.id}}</a>
                </td>
                <td>{{student.name}}</td>
                <td>{{student.thesis}}</td>
                <td>{{student.gpa}}</td>
            </tr>
            </tbody>
        </table>

    </div>

    <b>Courses (Client Side Rendering):</b>

    <table class="table">
        <thead>
        <tr><th>Id</th><th>Name</th><th>Advisor</th></tr>
        </thead>
        <tbody>
        <tr ng-repeat="team in courses">
            <td>
                <a href='/team/{{team.id}}' target=_blank>
                    {{team.id}}</a>
            </td>
            <td>{{team.name}}</td>
            <td>{{team.advisor}}</td>
        </tr>
        </tbody>
    </table>

    <p></p>
    <b>Roster Students (Client Side Rendering):</b>

    <table class="table">
        <thead>
        <tr><th>Id</th><th>Name</th><th>Thesis</th><th>Gpa</th></tr>
        </thead>
        <tbody>
        <tr ng-repeat="student in students">
            <td>
                <a href='/student/{{student.id}}' target=_blank>
                    {{student.id}}</a>
            </td>
            <td>{{student.name}}</td>
            <td>{{student.thesis}}</td>
            <td>{{student.gpa}}</td>
        </tr>
        </tbody>
    </table>

</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js" integrity="sha512-KZmyTq3PLx9EZl0RHShHQuXtrvdJ+m35tuOiwlcZfs/rE7NZv29ygNA8SFCkMXTnYZQK2OX0Gm2qKGfvWEtRXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-resource/1.8.3/angular-resource.min.js" integrity="sha512-+ymw+FkoDhPw+7/1DWVtASoICv7lwuvpkbVFqc4ASu1D385wKiLHu4ofOOxhpTlWoza/yIivwwteembPbeBuMg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script th:src="@{/js/app.js}"></script>

</body>
</html>